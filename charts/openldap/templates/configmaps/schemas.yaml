# based on https://github.com/variablenix/ldap-mail-schema

apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "openldap.fullname" . }}-schemas
  labels:
    app: {{ template "openldap.name" . }}-schemas
    chart: {{ .Chart.Name }}-{{ .Chart.Version }}
    release: {{ .Release.Name }}
    heritage: {{ .Release.Service }}
data:
  RoundCube.schema: |
    # Roundcube.schema is from <http://www.typomedia.org/>.
    #
    # Copyright 2013 Typomedia Foundation.
    # All rights reserved.
    #
    # This schema is released under GPL version 3.
    #
    # OpenLDAP schema for Roundcube Webmail v1.4

    objectIdentifier RoundcubeRoot 1.3.6.1.4.1.42766.4.2

    objectIdentifier Roundcube RoundcubeRoot:1
    objectIdentifier RoundcubeAttributeType Roundcube:2
    objectIdentifier RoundcubeObjectClass Roundcube:3

    # Person
    attributetype ( RoundcubeAttributeType:110
        NAME 'rcNickname'
        DESC 'Nickname'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:120
        NAME 'rcBirthday'
        DESC 'Birthday'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{16}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:130
        NAME 'rcGender'
        DESC 'Gender'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{16}
        SINGLE-VALUE )

    # Email
    attributetype ( RoundcubeAttributeType:210
        NAME 'rcHomeMail'
        DESC 'Homemail'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:220
        NAME 'rcWorkMail'
        DESC 'Workmail'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    # Telefax
    attributetype ( RoundcubeAttributeType:310
        NAME 'rcHomeFax'
        DESC 'Homefax'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64} )

    attributetype ( RoundcubeAttributeType:320
        NAME 'rcWorkFax'
        DESC 'Workfax'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64} )

    # Websites
    attributetype ( RoundcubeAttributeType:410
        NAME 'rcHomeURL'
        DESC 'Website Private'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:420
        NAME 'rcWorkURL'
        DESC 'Website Work'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:430
        NAME 'rcBlogURL'
        DESC 'Weblog'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:440
        NAME 'rcProfileURL'
        DESC 'Profile'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    # Instant Messenger
    attributetype ( RoundcubeAttributeType:510
        NAME 'rcSkype'
        DESC 'Skype'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:520
        NAME 'rcJabber'
        DESC 'Jabber'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:530
        NAME 'rcAIM'
        DESC 'AIM'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:540
        NAME 'rcICQ'
        DESC 'ICQ'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    # Location
    attributetype ( RoundcubeAttributeType:610
        NAME 'rcRegion'
        DESC 'Region'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:620
        NAME 'rcCountry'
        DESC 'Country'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    # Organization
    attributetype ( RoundcubeAttributeType:710
        NAME 'rcManager'
        DESC 'Manager'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    attributetype ( RoundcubeAttributeType:720
        NAME 'rcAssistant'
        DESC 'Assistant'
        EQUALITY caseIgnoreMatch
        SUBSTR caseIgnoreSubstringsMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{64}
        SINGLE-VALUE )

    # Object class
    objectClass ( RoundcubeObjectClass:1
        NAME 'RoundcubeMail'
        AUXILIARY
        MAY ( rcNickname $
          rcBirthday $
          rcGender $
          rcHomeMail $
          rcWorkMail $
          rcHomeFax $
          rcWorkFax $
          rcHomeURL $
          rcWorkURL $
          rcBlogURL $
          rcProfileURL $
          rcSkype $
          rcJabber $
          rcAIM $
          rcICQ $
          rcRegion $
          rcCountry $
          rcManager $
          rcAssistant ))

  courier.schema: |
    #
    # OID prefix: 1.3.6.1.4.1.10018
    #
    # Attributes: 1.3.6.1.4.1.10018.1.1
    #
    # Depends on: nis.schema, which depends on cosine.schema

    attributetype ( 1.3.6.1.4.1.10018.1.1.1 NAME 'mailbox'
      DESC 'The absolute path to the mailbox for a mail account in a non-default location'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.10018.1.1.2 NAME 'quota'
      DESC 'A string that represents the quota on a mailbox'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.10018.1.1.3 NAME 'clearPassword'
      DESC 'A separate text that stores the mail account password in clear text'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{128} )

    attributetype ( 1.3.6.1.4.1.10018.1.1.4 NAME 'maildrop'
            DESC 'RFC822 Mailbox - mail alias'
            EQUALITY caseIgnoreIA5Match
            SUBSTR caseIgnoreIA5SubstringsMatch
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )

    attributetype ( 1.3.6.1.4.1.10018.1.1.5 NAME 'mailsource'
            DESC 'Message source'
            EQUALITY caseIgnoreIA5Match
            SUBSTR caseIgnoreIA5SubstringsMatch
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.10018.1.1.6 NAME 'virtualdomain'
            DESC 'A mail domain that is mapped to a single mail account'
            EQUALITY caseIgnoreIA5Match
            SUBSTR caseIgnoreIA5SubstringsMatch
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.10018.1.1.7 NAME 'virtualdomainuser'
            DESC 'Mailbox that receives mail for a mail domain'
            EQUALITY caseIgnoreIA5Match
            SUBSTR caseIgnoreIA5SubstringsMatch
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.10018.1.1.8 NAME 'defaultdelivery'
            DESC 'Default mail delivery instructions'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.10018.1.1.9 NAME 'disableimap'
            DESC 'Set this attribute to 1 to disable IMAP access'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.10018.1.1.10 NAME 'disablepop3'
            DESC 'Set this attribute to 1 to disable POP3 access'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.10018.1.1.11 NAME 'disablewebmail'
            DESC 'Set this attribute to 1 to disable IMAP access'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.10018.1.1.12 NAME 'sharedgroup'
            DESC 'Virtual shared group'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.10018.1.1.13 NAME 'disableshared'
            DESC 'Set this attribute to 1 to disable shared mailbox usage'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    #attributetype ( 1.3.6.1.4.1.10018.1.1.14 NAME 'mailhost'
    #        DESC 'Host to which incoming POP/IMAP connections should be proxied'
    #        EQUALITY caseIgnoreIA5Match
    #        SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )
    #
    #
    # Objects: 1.3.6.1.4.1.10018.1.2
    #

    objectclass ( 1.3.6.1.4.1.10018.1.2.1 NAME 'CourierMailAccount'
      DESC 'Mail account object as used by the Courier mail server'
      SUP top AUXILIARY
      MUST ( mail $ homeDirectory )
      MAY ( uidNumber $ gidNumber $ mailbox $ uid $ cn $ gecos $ description $ loginShell $ quota $ userPassword $ clearPassword $ defaultdelivery $ disableimap $ disablepop3 $ disablewebmail $ sharedgroup $ disableshared $ mailhost ) )

    objectclass ( 1.3.6.1.4.1.10018.1.2.2 NAME 'CourierMailAlias'
      DESC 'Mail aliasing/forwarding entry'
      SUP top AUXILIARY
      MUST ( mail $ maildrop )
      MAY ( mailsource $ description ) )

    objectclass ( 1.3.6.1.4.1.10018.1.2.3 NAME 'CourierDomainAlias'
      DESC 'Domain mail aliasing/forwarding entry'
      SUP top AUXILIARY
      MUST ( virtualdomain $ virtualdomainuser )
      MAY ( mailsource $ description ) )

  dovecot.schema: |
    # dovecot-ldap ldapv3 directory schema
    #
    # Based on the qmail-ldap scheme available from
    # http://www.qmail-ldap.org/wiki/index.php/Qmail.schema
    # Adapted for use with dovecot home mail server by Markus Effinger
    # http://www.effinger.org
    #
    # Last change: January 11, 2009
    #
    # Created by: David E. Storey <dave@tamos.net>
    # Modified and included into qmail-ldap by Andre Oppermann <opi@nrg4u.com>
    #
    # Schema fixes by Mike Jackson <mjj@pp.fi>
    # Schema fixes by Christian Zoffoli (XMerlin) <czoffoli@xmerlin.org>
    #
    # General guideline:
    # 1. The language in this file is english
    # 2. Every OID in this file must look like this: ns.a.b.c.d, where
    #    ns - the official namespace of the effinger schema:
    #         1.3.6.1.4.1.32589
    #    a  - Reserved, must always be 1 for the dovecot scheme.
    #    b  - ID of object class - e.g.
    #         1 = dcMailUser
    #         2 = dcExternalMailAccount
    #         3 = dcMailAlias
    #         4 = dcPosixSubAccount
    #    c  - Entry type (1:attribute, 2:object)
    #    d  - Serial number (increased with every new entry)
    # 3. Every entry in this file MUST have a "DESC" field, containing a
    #    suitable description!
    # 4. New entries are to be kept as generic as possible.
    # 5. Attributes are listed in front of objects. All entries must be
    #    ordered by their serial number.
    #
    # This schema depends on:
    # - core.schema
    # - cosine.schema
    # - nis.schema
    #
    # Conflicting schema files:
    # - qmail.schema
    #

    # Attribute Type Definitions

    # dcMailUser Attributes

    attributetype ( 1.3.6.1.4.1.32589.1.1.1.1
      NAME 'dcMailMessageStore'
      DESC 'Path to the maildir/mbox on the mail system'
      EQUALITY caseExactIA5Match
      SUBSTR caseIgnoreIA5SubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256}
      SINGLE-VALUE )

    # dcExternalMailAccount Attributes

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.1
      NAME 'dcSubMailAddress'
      DESC 'A users secondary e-mail address for which mail from on another Mailserver has to be fetched'
      EQUALITY caseIgnoreIA5Match
      SUBSTR caseIgnoreIA5SubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.2
      NAME 'dcAccountStatus'
      DESC 'The status of a user account: active, noaccess, disabled, deleted'
      EQUALITY caseIgnoreIA5Match
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26
      SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.3
      NAME 'dcSMTPServer'
      DESC 'Outgoing mails should be delivered to this Mailserver via SMTP.'
      EQUALITY caseIgnoreIA5Match
      SUBSTR caseIgnoreIA5SubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256}
      SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.4
      NAME 'dcSMTPLogin'
      DESC 'Login credential to send Mail with the SMTP server'
      EQUALITY caseExactIA5Match
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26
      SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.5
      NAME 'dcSMTPPassword'
      DESC 'A separate text that stores the SMTP account password in clear text'
      EQUALITY caseExactIA5Match
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26
      SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.6
      NAME 'dcPOP3Server'
      DESC 'Incoming mails have to be downloaded from this server via POP3.'
      EQUALITY caseIgnoreIA5Match
      SUBSTR caseIgnoreIA5SubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256}
      SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.7
      NAME 'dcPOP3Login'
      DESC 'Login credential to receive Mail from the POP3 server'
      EQUALITY caseExactIA5Match
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26
      SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.8
      NAME 'dcPOP3Password'
      DESC 'A separate text that stores the POP3 account password in clear text'
      EQUALITY caseExactIA5Match
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26
      SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.9
      NAME 'dcMailQuota'
      DESC 'The size of space the user can have until further messages get bounced.'
      EQUALITY integerMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.27
      SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.32589.1.2.1.10
      NAME 'dcMailSizeMax'
      DESC 'The maximum size of a single messages the user accepts.'
      EQUALITY integerMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.27
      SINGLE-VALUE )

    # dcMailAlias Attributes

    attributetype ( 1.3.6.1.4.1.32589.1.3.1.1
      NAME 'dcMailAlternateAddress'
      DESC 'Secondary (alias) mailaddresses for the same user'
      EQUALITY caseIgnoreIA5Match
      SUBSTR caseIgnoreIA5SubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )

    attributetype ( 1.3.6.1.4.1.32589.1.3.1.2
      NAME 'dcMailForwardingAddress'
      DESC 'Any mails addressed to aliases should be forwarded to this mail address'
      EQUALITY caseIgnoreIA5Match
      SUBSTR caseIgnoreIA5SubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )

    # dcPosixSubAccount Attributes

    # We want another attribute pointing to the respective posixOwner with an LDAP URL
    attributetype ( 1.3.6.1.4.1.32589.1.4.1.1
      NAME 'dcPosixOwnerURL'
      DESC 'Identifies an URL associated with the posixOwner of the entry. Any type of labeled URL can be used.'
      SUP labeledURI )

    # Object Class Definitions

    objectclass ( 1.3.6.1.4.1.32589.1.1.2.1
      NAME 'dcMailUser'
      DESC 'Dovecot-LDAP User'
      SUP top
      AUXILIARY
      MUST ( dcMailMessageStore ) )

    objectclass ( 1.3.6.1.4.1.32589.1.2.2.1
      NAME 'dcExternalMailAccount'
      DESC 'Dovecot-LDAP external mail account'
      SUP top
      STRUCTURAL
      MUST ( dcSubMailAddress $ dcAccountStatus)
      MAY (
        dcSMTPServer $ dcSMTPLogin $ dcSMTPPassword $
        dcPOP3Server $ dcPOP3Login $ dcPOP3Password $
        dcMailQuota $ dcMailSizeMax ) )

    objectclass ( 1.3.6.1.4.1.32589.1.3.2.1
      NAME 'dcMailAlias'
      DESC 'Dovecot Mail Alias'
      SUP top
      STRUCTURAL
      MUST ( dcMailAlternateAddress )
      MAY ( dcMailForwardingAddress ) )

    # ObjectClass used for dynamically retrieving the posixOwner
    objectClass ( 1.3.6.1.4.1.32589.1.4.2.1
      NAME 'dcPosixSubAccount'
      DESC 'LDAP-URL for retrieving the respective posixAccount of an entry'
      SUP top
      AUXILIARY
      MAY ( dcPosixOwnerURL ) )

  postfix-book.schema: |
    # $Id$
    #
    # State of Mind
    # Private Enterprise Number: 29426
    #
    # OID prefix: 1.3.6.1.4.1.29426
    #
    # Attributes: 1.3.6.1.4.1.29426.1.10.x
    #


    attributetype ( 1.3.6.1.4.1.29426.1.10.1 NAME 'mailHomeDirectory'
      DESC 'The absolute path to the mail user home directory'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.29426.1.10.2 NAME 'mailAlias'
            DESC 'RFC822 Mailbox - mail alias'
            EQUALITY caseIgnoreIA5Match
            SUBSTR caseIgnoreIA5SubstringsMatch
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )

    attributetype ( 1.3.6.1.4.1.29426.1.10.3 NAME 'mailUidNumber'
            DESC 'UID required to access the mailbox'
            EQUALITY integerMatch
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.27 SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.29426.1.10.4 NAME 'mailGidNumber'
            DESC 'GID required to access the mailbox'
            EQUALITY integerMatch
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.27 SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.29426.1.10.5 NAME 'mailEnabled'
      DESC 'TRUE to enable, FALSE to disable account'
            EQUALITY booleanMatch
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.7 SINGLE-VALUE )

    attributetype ( 1.3.6.1.4.1.29426.1.10.6 NAME 'mailGroupMember'
      DESC 'Name of a mail distribution list'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.29426.1.10.7 NAME 'mailQuota'
      DESC 'Mail quota limit in kilobytes'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )

    attributetype ( 1.3.6.1.4.1.29426.1.10.8 NAME 'mailStorageDirectory'
      DESC 'The absolute path to the mail users mailbox'
            EQUALITY caseExactIA5Match
            SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )


    #
    # Objects: 1.3.6.1.4.1.29426.1.2.2.x
    #

    objectclass ( 1.3.6.1.4.1.29426.1.2.2.1 NAME 'PostfixBookMailAccount'
            SUP top AUXILIARY
      DESC 'Mail account used in Postfix Book'
      MUST ( mail )
            MAY ( mailHomeDirectory $ mailAlias $ mailGroupMember
        $ mailUidNumber $ mailGidNumber $ mailEnabled
        $ mailQuota $mailStorageDirectory ) )

    objectclass ( 1.3.6.1.4.1.29426.1.2.2.2 NAME 'PostfixBookMailForward'
            SUP top AUXILIARY
      DESC 'Mail forward used in Postfix Book'
      MUST ( mail $ mailAlias ))

  postfix.schema: |
    # LDAP Admin Extensions for Postfix MTA support

    attributetype ( 1.3.6.1.4.1.15347.2.102
      NAME 'transport'
      SUP name)

    attributetype ( 1.3.6.1.4.1.15347.2.110 NAME 'maildest'
      DESC 'Restricted to send only to local network'
      EQUALITY caseIgnoreMatch
      SUBSTR caseIgnoreSubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{32768} )

    attributetype ( 1.3.6.1.4.1.15347.2.111 NAME 'mailaccess'
      DESC 'Can be mailed to restricted groups'
      EQUALITY caseIgnoreMatch
      SUBSTR caseIgnoreSubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{32768} )

    attributetype ( 1.3.6.1.4.1.15347.2.100
      NAME ( 'maildrop' )
      DESC 'RFC1274: RFC822 Mailbox'
      EQUALITY caseIgnoreIA5Match
      SUBSTR caseIgnoreIA5SubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{256} )

    attributetype ( 1.3.6.1.4.1.10018.1.1.1 NAME 'mailbox'
      DESC 'The absolute path to the mailbox for a mail account in a non-default location'
      EQUALITY caseExactIA5Match
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )

    objectclass ( 1.3.6.1.4.1.15347.2.1
      NAME 'mailUser'
          DESC 'E-Mail User'
      SUP top
      AUXILIARY
      MUST ( uid $ mail $ maildrop )
      MAY ( cn $ mailbox $ maildest $ mailaccess )
      )

    objectclass ( 1.3.6.1.4.1.15347.2.2
      NAME 'mailGroup'
          DESC 'E-Mail Group'
      SUP top
      STRUCTURAL
      MUST ( cn $ mail )
      MAY ( mailRoutingAddress $ member $ description )
      )

    objectclass ( 1.3.6.1.4.1.15347.2.3
      NAME 'transportTable'
          DESC 'MTA Transport Table'
      SUP top
      STRUCTURAL
      MUST ( cn $ transport )
      )

  postfix2.schema: |
    # Schema as required by Postfix: http://www.postfix.org/LDAP_README.html

    attributetype (
      1.3.6.1.4.1.4203.666.1.200
      NAME 'mailacceptinggeneralid'
      DESC 'Postfix mail local address alias attribute'
      EQUALITY caseIgnoreMatch
      SUBSTR caseIgnoreSubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{1024}
      )

    attributetype (
      1.3.6.1.4.1.4203.666.1.201
      NAME 'maildrop'
      DESC 'Postfix mail final destination attribute'
      EQUALITY caseIgnoreMatch
      SUBSTR caseIgnoreSubstringsMatch
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{1024}
      )

    objectclass (
      1.3.6.1.4.1.4203.666.1.100
      NAME 'postfixUser'
      DESC 'Postfix mail user class'
      SUP top
      AUXILIARY
      MAY  (
            mailacceptinggeneralid $ maildrop
          )
      )

  quota.schema: |
    ##
    ## schema file for Unix Quotas
    ## Schema for storing Unix Quotas in LDAP
    ## OIDs are owned by Cogent Innovators, LLC
    ##
    ## 1.3.6.1.4.1.19937.1.1.x - attributetypes
    ## 1.3.6.1.4.1.19937.1.2.x - objectclasses
    ##

    attributetype ( 1.3.6.1.4.1.19937.1.1.1 NAME 'quota'
      DESC 'Quotas (FileSystem:BlocksSoft,BlocksHard,InodesSoft,InodesHard)'
      EQUALITY caseIgnoreIA5Match
      SYNTAX 1.3.6.1.4.1.1466.115.121.1.26{255} )

    objectclass ( 1.3.6.1.4.1.19937.1.2.1 NAME 'systemQuotas' SUP posixAccount AUXILIARY
      DESC 'System Quotas'
      MUST ( uid )
      MAY  ( quota ))
