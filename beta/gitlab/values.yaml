# Default values for gitlab.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

gitlabRootPassword: "nndUz9CAQN"
openldapPassword: "spx7bz4MS8pnflRLiqJiYXEA"
mailgunPassword: "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"

namespace: gitlab-system
updateDescription: "one"
gitlabConfig:
  certmanagerIssuerEmail: jay.goyal@betasource.tech
  domain: hosted.promanager.online
  minio:
    enabled: false
    awsConfig:
      provider: AWS
      region: us-east-2
      aws_access_key_id: AKIAU5BN4B7CURBLNM6R
      aws_secret_access_key: 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  
    connection:
      secret: gitlab-rails-storage
      key: connection
  redis:
    password:
      enabled: true
      secret: gitlab-redis
      key: redis-password
  psql:
    password:
      useSecret: true
      secret: gitlab-postgres-db-secret
      key: POSTGRES_PASSWORD
    preparedStatements: false 
  ingress:
    configureCertmanager: false
    # class: nginx
    provider: nginx
    enabled: true
    annotations: 
      clusterIssuer: letsencrypt-cloudflare-prod
      externalDnsTarget: v0-aws-internal.promanager.online
    tls:
      enabled: true
      secretName: wildcard-letsencrypt-gitlab-new-1
    path: /      
  initialRootPassword:
    secret: gitlab-root-password
    key: admin    
  bucketCredential:
    secret: gitlab-rails-storage
    key: connection
  buckets:
    lfs: gitlab-lfs-storage
    artifacts: gitlab-artifacts-storage
    uploads: gitlab-uploads-storage
    packages: gitlab-packages-storage
    externalDiffs: gitlab-mr-diffs
    terraformState: gitlab-terraform-state-promanager
    dependencyProxy: gitlab-dependency-proxy
    backups: gitlab-backup-storage-sourcemanager 
    tmpBucket: gitlab-tmp-storage-sourcemanager
  ldapSyncCronJob:
    cron: "*/1 * * * *"  
  ldap:
    preventSignin: false
    servers:
      main:
        label: 'LDAP'
        host: "a-openldap-openldap-openldap-stack-ha.a-openldap.svc.cluster.local"
        port: 389
        uid: 'uid'
        bind_dn: 'cn=admin,dc=promanager,dc=online'
        base: 'dc=promanager,dc=online'
        password:
          secret: openldap-secret
          key: admin
        encryption: 'plain' 
        allow_username_or_email_login: true
  smtp:
    enabled: true
    address: smtp.sendgrid.net
    port: 587
    user_name: apikey
    password:
      secret: mailgun-password
      key: password
    domain: em9444.promanager.online
    authentication: "plain"


ingressDomain: new-gitlab.hosted.promanager.online

postgres:
  integration: 'a-postgres'
  database: a-gitlab
  host: 'postgres-postgres.a-postgres.svc.cluster.local'
  password: P@ssw0rd
  port: 5432
  username: postgres
