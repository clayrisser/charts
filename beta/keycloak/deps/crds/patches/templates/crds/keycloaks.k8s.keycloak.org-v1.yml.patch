--- templates/crds/keycloaks.k8s.keycloak.org-v1.yml	2023-06-10 11:58:32.772809832 -0400
+++ templates/crds/keycloaks.k8s.keycloak.org-v1.yml.tmp	2023-06-10 11:57:52.050457136 -0400
@@ -1,8 +1,12 @@
+{{- if (not (lookup "apiextensions.k8s.io/v1" "CustomResourceDefinition" "" "keycloaks.k8s.keycloak.org")) }}
 # Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
 apiVersion: apiextensions.k8s.io/v1
 kind: CustomResourceDefinition
 metadata:
   name: keycloaks.k8s.keycloak.org
+  annotations:
+    helm.sh/hook: pre-install,pre-upgrade
+    helm.sh/hook-weight: '5'
 spec:
   group: k8s.keycloak.org
   names:
@@ -2915,3 +2919,4 @@
     storage: true
     subresources:
       status: {}
+{{- end }}
