--- templates/crds/perconapgclusters-crd.yaml	2022-01-07 09:19:11.241067730 -0600
+++ templates/crds/perconapgclusters-crd.yaml.tmp	2022-01-07 09:18:42.813060708 -0600
@@ -1,8 +1,11 @@
----
+{{- if (not (lookup "apiextensions.k8s.io/v1" "CustomResourceDefinition" "" "perconapgclusters.pg.percona.com")) }}
 apiVersion: apiextensions.k8s.io/v1
 kind: CustomResourceDefinition
 metadata:
   name: perconapgclusters.pg.percona.com
+  annotations:
+    helm.sh/hook: pre-install,pre-upgrade
+    helm.sh/hook-weight: '1'
 spec:
   group: pg.percona.com
   names:
@@ -32,4 +35,5 @@
       status: {}
       scale:
         specReplicasPath: .spec.pgReplicas.hotStandby.size
-        statusReplicasPath: .status.ready
\ No newline at end of file
+        statusReplicasPath: .status.ready
+{{- end }}
