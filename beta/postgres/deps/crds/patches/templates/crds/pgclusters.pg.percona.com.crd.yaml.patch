--- templates/crds/pgclusters.pg.percona.com.crd.yaml	2023-06-11 13:17:10.859435307 -0400
+++ templates/crds/pgclusters.pg.percona.com.crd.yaml.tmp	2023-06-11 13:18:53.493065721 -0400
@@ -1,8 +1,12 @@
+{{- if (not (lookup "apiextensions.k8s.io/v1" "CustomResourceDefinition" "" "pgclusters.pg.percona.com")) }}
 ---
 apiVersion: apiextensions.k8s.io/v1
 kind: CustomResourceDefinition
 metadata:
   name: pgclusters.pg.percona.com
+  annotations:
+    helm.sh/hook: pre-install,pre-upgrade
+    helm.sh/hook-weight: '5'
 spec:
   group: pg.percona.com
   names:
@@ -37,3 +41,4 @@
             properties:
               state: {type: string}
               message: {type: string}
+{{- end }}
